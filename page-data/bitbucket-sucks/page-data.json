{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/bitbucket-sucks/","result":{"data":{"site":{"siteMetadata":{"title":"NoSleep Javascript Blog"}},"markdownRemark":{"id":"fba12ad6-0b68-5d2c-ae28-b650f2385ba0","excerpt":"I consider PR reviews as one of the fundamental and most important\ntools developers have to collaborate. We use it daily to submit changes and\nto get important…","html":"<p>I consider PR reviews as one of the fundamental and most important\ntools developers have to collaborate. We use it daily to submit changes and\nto get important feedback from peers and more experienced developers.</p>\n<p>And so, <strong>it should be targeted to software developers and not to managers</strong>.</p>\n<p>Let’s cover some of the daily tortures of dealing with <a href=\"https://bitbucket.org/\">Bitbucket</a>, which\nI unfortunately need to deal with.</p>\n<h2 id=\"copying-code-from-the-pr-changes-into-a-comment\" style=\"position:relative;\">Copying code from the PR changes into a comment<a href=\"#copying-code-from-the-pr-changes-into-a-comment\" aria-label=\"copying code from the pr changes into a comment permalink\" class=\"header-anchor after\">#</a></h2>\n<blockquote>\n<p>Hey friend, how about you implement this piece of functionality in this other way?</p>\n</blockquote>\n<p>This common and healthy workflow is <strong>fundamentally broken</strong> in BB because\nyou cannot copy code from the body of the PR into a comment without getting\na lot more than what you clearly selected.</p>\n<p><img src=\"/460408cff29803e91776376bae5605ad/copypastev3.gif\" alt=\"Copying and pasting code from PR changes is broken\"></p>\n<h2 id=\"are-you-sure-you-want-to-discard-actually-not-your-comments\" style=\"position:relative;\">Are you sure you want to discard (actually not) your comments?<a href=\"#are-you-sure-you-want-to-discard-actually-not-your-comments\" aria-label=\"are you sure you want to discard actually not your comments permalink\" class=\"header-anchor after\">#</a></h2>\n<p>Trying to click anywhere else when writing a comment like for example\nexpanding to see more code will result in an alert that states\nthat your comment changes will be removed which is already super annoying.\nBut if you even do not care about discarding your comment and you go ahead\nand click on discard the comment isn’t really discarded! So it is completely misleading.</p>\n<p>This is BB not caring about the amount of time developers throw into detailed\ncode reviews.</p>\n<p><img src=\"/7a16dbe4130224ea56472f85903a24f7/commentclick.gif\" alt=\"Are you sure you want to discard (actually not) your comments?\"></p>\n<h2 id=\"what-you-see-may-be-what-you-get-horrible-markdown-support\" style=\"position:relative;\">What You See May Be What You Get: horrible markdown support<a href=\"#what-you-see-may-be-what-you-get-horrible-markdown-support\" aria-label=\"what you see may be what you get horrible markdown support permalink\" class=\"header-anchor after\">#</a></h2>\n<p>Markdown is a tool aimed for technical folks, it is minimal but gets\nthe job done without any distractions, it is <em>not</em> <a href=\"https://en.wikipedia.org/wiki/WYSIWYG\">WYSIWYG</a> (what you see is what you get)\nby design and partially for simplicity.</p>\n<p>BB takes the worse of all worlds: horrible “standard” markdown support\nthat varies across places and combine it with a <a href=\"https://en.wikipedia.org/wiki/WYSIWYG\">WYSIWYG</a> editor.\nThis creates really weird\nuse cases we will cover below.</p>\n<p>Other technical tools, such as <a href=\"https://github.com/\">Github</a>, understand how important decent markdown\nsupport is and they use it to empower developers.\nThey do build visual tools on top of markdown but without combining them\ninto a monster broken implementation.</p>\n<p>Let’s see some specially frustrating cases</p>\n<h3 id=\"selecting-a-code-block-language\" style=\"position:relative;\">Selecting a code block language<a href=\"#selecting-a-code-block-language\" aria-label=\"selecting a code block language permalink\" class=\"header-anchor after\">#</a></h3>\n<p>Instead of using the standard <strong>”```typescript”</strong> they include a visual\nSelect. Guess what, professional developers don’t need this help at all, and\nnewbies can search the web once and forget about this.</p>\n<p>Think about ergonomics, with regular markdown you do everything with the keyboard,\nwith the BB inferno you first need to type the three backward ticks and then grab the\nmouse and select your language and then click back on the code block.</p>\n<p>This is a really poor understanding of your user’s UX!</p>\n<p><img src=\"/e7b45f374d83485074abc0f93fc73afb/mdlang.gif\" alt=\"selecting code block language\"></p>\n<h3 id=\"smart-dumb-markdown-hybrid-support\" style=\"position:relative;\">Smart (dumb) markdown hybrid support<a href=\"#smart-dumb-markdown-hybrid-support\" aria-label=\"smart dumb markdown hybrid support permalink\" class=\"header-anchor after\">#</a></h3>\n<p>The <a href=\"https://en.wikipedia.org/wiki/WYSIWYG\">WYSIWYG</a> <a href=\"https://guides.github.com/features/mastering-markdown/\">markdown</a> hybrid implementation produces stuff like this</p>\n<p><img src=\"/e0371b316a1ee15020dc166396db9c4c/format.gif\" alt=\"format\"></p>\n<h3 id=\"list-items-without-an-empty-line\" style=\"position:relative;\">List items without an empty line<a href=\"#list-items-without-an-empty-line\" aria-label=\"list items without an empty line permalink\" class=\"header-anchor after\">#</a></h3>\n<p>This cannot happen in the comment textbox unless you force it to, but\nit can happen in the PR description textbox and it can also happen when you\nwrite the markdown in a <em>regular</em> text editor / IDE i.e. when committing code\nvia git, when writing the README, etc.</p>\n<p>If you don’t leave an empty line before a list then it won’t get transformed correctly:</p>\n<p><img src=\"/c8e58d30c452b643bf40ea77f00b21d0/lists.gif\" alt=\"markdown lists\"></p>\n<h2 id=\"performance-of-the-text-box\" style=\"position:relative;\">Performance of the text box<a href=\"#performance-of-the-text-box\" aria-label=\"performance of the text box permalink\" class=\"header-anchor after\">#</a></h2>\n<p>I have a pretty good and modern computer but most of the time\nI experience heavy lags when writing a simple text only comment in <a href=\"https://bitbucket.org/\">BB</a>.</p>\n<p>I suspect this is related to the horrible <a href=\"https://en.wikipedia.org/wiki/WYSIWYG\">WYSIWYG</a> implementation,\nwhich we have just heavily broken down above.</p>\n<h2 id=\"doesnt-work-on-large-prs\" style=\"position:relative;\">Doesn’t work on large PRs<a href=\"#doesnt-work-on-large-prs\" aria-label=\"doesnt work on large prs permalink\" class=\"header-anchor after\">#</a></h2>\n<p>When a PR is a large (I know, I know, large PRs should not happen, but unfortunately sometimes they do)\nBB will choose either</p>\n<ol>\n<li>consuming a lot of resources</li>\n<li>not displaying the entire PR</li>\n</ol>\n<p>In either case the UX ends up being bad.</p>\n<p>In case <strong>1.</strong> you will get a lot of RAM being consumed and\nmost likely the scrolling and the interaction with the page\nwill be even more slow and awkward.</p>\n<p>In case <strong>2.</strong> you need to click file by file to inspect a PR, which isn’t better IMO.</p>\n<h2 id=\"bitbucket-is-jira-applied-to-git\" style=\"position:relative;\">Bitbucket is Jira applied to git<a href=\"#bitbucket-is-jira-applied-to-git\" aria-label=\"bitbucket is jira applied to git permalink\" class=\"header-anchor after\">#</a></h2>\n<p>I’ve seen that the described behaviors tend to be cross\ncutting problems across the <a href=\"https://www.atlassian.com/\">Atlassian</a> suite, <a href=\"https://www.atlassian.com/software/jira\">Jira</a> has similar\nproblems and <a href=\"https://confluence.atlassian.com/alldoc/atlassian-documentation-32243719.html\">Confluence</a> is horrible, they are generally\nreally slow and clunky and unresponsive and text editing tends to be a pain.</p>\n<h2 id=\"understanding-your-product\" style=\"position:relative;\">Understanding your product<a href=\"#understanding-your-product\" aria-label=\"understanding your product permalink\" class=\"header-anchor after\">#</a></h2>\n<p>PRs are one of the core use cases of <a href=\"https://bitbucket.org/\">BB</a> as a product,\nthey are what have arguably made <a href=\"https://github.com/\">Github</a> the beacon that it is now.</p>\n<p>There are a few things your PR experience needs to provide at the base level</p>\n<ul>\n<li>PR title, description and inline comments.</li>\n<li>Every text box needs to support plain markdown and maybe mentioning other people (tagging).</li>\n<li>If you want to add markdown shortcuts make them <em>insert markdown</em> and <strong>not</strong> actually applying style.</li>\n<li>Good diffing visualization (which BB does well IMO).</li>\n<li>It is all about the code!</li>\n<li>Copying code from the diff needs to work as expected.</li>\n<li>Markdown code blocks (code snippets) are a fundamental feature of all your text boxes.</li>\n<li>Either provide a really good experience inside your code blocks or do nothing.</li>\n<li>Your app needs to be simple, small, fast and stable in time.</li>\n<li>Some PRs are open for long periods of time, make sure your app is stable!.</li>\n</ul>\n<p>These are one the core features a good PR UI needs to provide, if anything,\nthese need to be the best of the best.</p>\n<p>BB seems to have prioritized being “cute” or “pretty” (is it?) instead of being functional.</p>\n<h2 id=\"solutions\" style=\"position:relative;\">Solutions<a href=\"#solutions\" aria-label=\"solutions permalink\" class=\"header-anchor after\">#</a></h2>\n<p><a href=\"https://bitbucket.org/\">Bitbucket</a> is a developer centric platform, use developer centric tools,\nuse plain old text inputs with good markdown support, add as little as possible\non top of that, make the experience of writing comments, PR descriptions,\ncode snippets as easy, simple and fast as possible.</p>\n<p>Don’t leak stuff from <a href=\"https://www.atlassian.com/software/jira\">Jira</a> and <a href=\"https://confluence.atlassian.com/alldoc/atlassian-documentation-32243719.html\">Confluence</a> to <a href=\"https://bitbucket.org/\">Bitbucket</a>, they have different\naudience.</p>\n<p>And if you have time… make sure <em>every</em> text input in your system has a plain text\nmode, where either you interpret it as good old markdown or as unformatted text, either\nis much better than what you have now.</p>\n<h2 id=\"closing\" style=\"position:relative;\">Closing<a href=\"#closing\" aria-label=\"closing permalink\" class=\"header-anchor after\">#</a></h2>\n<p>Liked the content? Consider subscribing, buying me coffee or even becoming a Patreon below.</p>","fields":{"slug":"/bitbucket-sucks/","readingTime":{"text":"6 min read"}},"frontmatter":{"title":"Bitbucket is developer hell","date":"November 20, 2020","description":"Bitbucket sucks for developers because it was made for managers","tags":["Bitbucket","Github","markdown","git","PR","Pull Request","code review"],"seoFooter":null,"author":{"id":"franleplant","bio":"Tech Lead and Software developer with a degree in Engineering. Woodworker, all things Javascript, Rust and Software Architecture.","twitter":"franleplant","github":"https://github.com/franleplant","profilepicture":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAB2HAAAdhwGP5fFlAAACjUlEQVQ4y2P4jwH+/fsHJO/curV6xdKjhw9+//4NLogGGND4f//+BZKXL160MDVRUVLSUFZydbBbvHDBf2wAXfOfP3+AZENtjaWqVFGEx/L69HB7I3ERkUMHD8CNJmDzlo3rtrdn/Tww5/+p5Wtb8wUEBCZNnAA3GqdmiN9ePH86uTDmUG/h6vr0LT3Fdrqqpw8TYTNE89dPH84saL+3rPPlpinn5zcdn9Xw//sniDQ+zXCwdWLVqvL4iwtbTs6qPrd1KUgjqrXYNUMUndm9dk9P/obO/OkFYZeP7SVKM9DZf8GhcmDvriw/y3xvwy0tyetm9xw4fPT6tes/f/4iYDMwSJ88eRIREZ7oqDkh07cxL9HT1c3dw9va2nbv3v3IwcaAFlRv375taW0LDY2wtLZ0c7QzMzEys7T18w/KzMrOys5btmIlcmpjQNYJJFvbWgMCgyOjY3z9fH18/ULDIgoKivILimJi41NTUpOSU6/fuAm3nAE5bew9cNDR1T0qJiYkNAQIAgID0zOycnLzw8IjIyIiMzOz4uISdu3ag6IZYu3nz58mtdaWpkYFBwd4eXkFBASGhYUlJaeER0Z5eXsnJCSkpaVFRcVs2LABi+ZVyxafnVN3bUlzYrCHuZWVp6dHeHh4RGSUm7t7TEx0ampaRkYmMCw2bdqE0Ayhbt68GRcXN7+9/MrKnvq0MEtr26CgIP+AACtzE2cnR6CDMzKzkpJSQkPDb968hdAMSeuzZs92cnEODo+IiIqJjY2Ljo6JiYvPTolf3VGQnhgbGh4RFh7u6+tXXV2NHMBQzRMnTdTT03VydnRxdXVxdTMzM7GwsIgIDc5MjvPz9/f19fH29razs9+8eTNyPAMANpkgbLnsUSwAAAAASUVORK5CYII=","aspectRatio":1.1363636363636365,"src":"/static/3d0df698a9c84ca995878f7c2815d974/edb0e/franleplant-profile.png","srcSet":"/static/3d0df698a9c84ca995878f7c2815d974/69585/franleplant-profile.png 200w,\n/static/3d0df698a9c84ca995878f7c2815d974/497c6/franleplant-profile.png 400w,\n/static/3d0df698a9c84ca995878f7c2815d974/edb0e/franleplant-profile.png 620w","sizes":"(max-width: 620px) 100vw, 620px"}}}}}}},"pageContext":{"slug":"/bitbucket-sucks/","previous":{"fields":{"slug":"/redux-data-fetching-antipattern/"},"frontmatter":{"title":"Stop using Redux for Data Fetching, use this instead"}},"next":{"fields":{"slug":"/programming-principles/"},"frontmatter":{"title":"Secrets of a Tech Lead: Programming Principles"}}}},"staticQueryHashes":["1000388668","1219926595","914163225"]}